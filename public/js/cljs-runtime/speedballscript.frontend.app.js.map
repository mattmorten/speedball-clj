{"version":3,"sources":["speedballscript/frontend/app.cljs"],"mappings":"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","names":["js/console.log","js/speedballscript","js/speedballscript.frontend","js/speedballscript.frontend.app","js/speedballscript.frontend.app.counter","speedballscript.frontend.app/counter","reagent.core.atom","speedball.renderer.renderer/new-game-state","speedballscript.frontend.app/rendered-game->div","game","cljs.core/vec","cljs.core/cons","iter__5480__auto__","s__18329","cljs.core/LazySeq","temp__5804__auto__","cljs.core/seq","cljs.core/chunked-seq?","c__5478__auto__","size__5479__auto__","cljs.core/count","b__18331","cljs.core/chunk-buffer","i__18330","cljs.core/-nth","cljs.core/chunk-append","cljs.core/chunk-cons","cljs.core/chunk","iter__18328","cljs.core/chunk-rest","cljs.core/first","cljs.core/rest","row","s__18334","b__18336","i__18335","iter__18333","s__18338","b__18340","i__18339","iter__18337","col","cljs.core.rand","speedballscript.frontend.app/handle-keypress","event","key","cljs.core/some","game-state","speedball.renderer.renderer.run_game","cljs.core/reset!","speedballscript.frontend.app/app","vec__18341","cljs.core/deref","cljs.core.nth","camera-mount","controller","ai-controllers","speedball.renderer.renderer/render-board","cljs.core.swap_BANG_","cljs.core/inc","speedballscript.frontend.app/init","cljs.core.println","js/document","reagent.dom.render","cljs.core/chunk-first"],"sourcesContent":["(ns speedballscript.frontend.app\n  (:require [reagent.core :as r]\n            [reagent.dom :as dom]\n            [speedball.renderer.camera-mount :as mount]\n            [speedball.renderer.renderer :as renderer]\n            [speedball.game :as game]))\n\n(js/console.log \"yo\")\n;(println (game/new-game))\n\n(defonce counter (r/atom (renderer/new-game-state)))\n\n;(defn start-timer []\n;  (js/setInterval\n;    (fn []\n;      (swap! counter inc))\n;    1000))\n\n(defn rendered-game->div\n  [game]\n  (vec (cons :div (for [row game]\n                    (vec (cons :div (for [col row]\n                                      (do\n                                        ^{:key (str (rand))} [:span.char col]))))))))\n\n\n(defn handle-keypress [event]\n  (let [key (.-key event)]\n    (js/console.log \"Pressed \" key)\n    (when (some #{key} [\"w\" \"a\" \"s\" \"d\" \"f\" \"g\" \"h\" \"e\" \"c\"])\n      (let [game-state (renderer/run-game counter key)]\n        (reset! counter game-state)))))\n\n(defn app []\n  [:div\n   [:div\n      (let [[game camera-mount controller ai-controllers] @counter]\n         (rendered-game->div\n           (renderer/render-board game)))]\n       ;(rendered-game->div\n       ;  (mount/render-camera-mount\n       ;    camera-mount\n       ;    (renderer/render-board game))))]\n   [:button\n    {:onClick (fn [] (swap! counter inc))}\n    \"+1\"]])\n\n(defn init []\n  (println \"Speedball 2\")\n  (.addEventListener js/document \"keydown\" handle-keypress)\n  ;(start-timer)\n  (dom/render\n    [app]\n    (.getElementById js/document \"root\")))\n\n\n;; Switch to a clj-s repl\n; (shadow/repl :frontend)\n\n;; Explain an exception in the repl\n; (ex-data *e)"]}